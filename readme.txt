=== Kognetiks Chatbot ===
Contributors: Kognetiks
Tags: chat, chatbot, chatgpt, openai, ai
Donate link: https://kognetiks.com/wordpress-plugins/donate/
Tested up to: 6.9
Stable tag: 2.4.2
License: GPLv3 or later
License URI: https://www.gnu.org/licenses/gpl-3.0.html

We make AI chat simple for WordPress. Add intelligent, conversational AI to your site in minutes - no coding required.

== Description ==

### üí¨ **AI Chat Made Simple**

The **Kognetiks Chatbot** helps you turn your WordPress site into a smart, conversational experience - easily. Whether you want to answer customer questions, assist visitors, or showcase AI innovation, the Kognetiks Chatbot makes it simple, secure, and scalable.

**We make AI chat simple for WordPress.**

### üöÄ **Get Started Fast**

Install the plugin, connect your preferred AI engine (OpenAI, NVIDIA, Anthropic, Mistral, DeepSeek, Azure, or JAN.AI), and start chatting. No complex setup. No developer required. Just plug, connect, and chat.

### üß† **Built for Every WordPress User**

From bloggers and educators to small business owners and agencies, Kognetiks Chatbot helps you deliver engaging, real-time conversations that delight your visitors.

### ‚ú® **Key Features**

* **Simple Setup** - Install, activate, and start chatting in minutes.
* **Multiple AI Engines** - Choose OpenAI, NVIDIA, Anthropic, Mistral, DeepSeek, Azure, or run your own local JAN.AI server (no API fees, no external data transfer).
* **Embedded or Floating Chat** - Place your chatbot anywhere using easy shortcodes.
* **Knowledge Navigator** - Teach your chatbot your site's content for smarter, context-aware answers.
* **Custom Assistants** - Create specialized assistants for support, sales, education, or internal knowledge.
* **Conversation Logging** - Review interactions, export chat logs, and improve user experience.
* **Sentiment Analysis** - Gain insights into visitor sentiment and improve your chatbot's performance.
* **Speech Recognition & Voice Replies** - Talk and listen for a natural AI chat experience.
* **Multi-Language Ready** - Automatically adapts to your WordPress site's language.
* **Privacy & Security First** - Manage API keys safely and keep data secure.

### üåê **Why Choose Kognetiks Chatbot**

* **Simple by Design** - Every feature is built for clarity and ease of use.  
* **Works Everywhere** - Chatbot works on all devices, including mobile, tablet, and desktop.
* **Flexible by Nature** - Works with leading AI engines and open-source models.  
* **Trusted by Creators** - Designed for site owners, developers, and agencies who want to offer AI without complexity.  
* **Powerful Yet Affordable** - Use APIs or local AI servers to control costs.  

### üß© **We Make AI Chat Simple**

Add intelligence, not complexity.

With Kognetiks Chatbot, your WordPress site becomes a smart, conversational hub that engages, informs, and supports - all with a few clicks.

Learn more at [Kognetiks.com](https://kognetiks.com/wordpress-plugins/kognetiks-chatbot/)

== External Services ==

The **Kognetiks Chatbot** plugin relies on external AI services to provide chatbot functionality. It sends user queries and related data to a third-party AI provider for processing and response generation. By using this plugin, you agree to abide by each service's terms of service and privacy policy:

- **OpenAI**: [Terms of Use](https://platform.openai.com/terms) | [Privacy Policy](https://openai.com/policies/privacy-policy/)
- **Azure OpenAI**: [Terms of Use](https://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy?tabs=azure-portal) | [Privacy Polisy](https://www.microsoft.com/en-us/privacy/privacystatement)
- **NVIDIA**: [Terms of Use](https://www.nvidia.com/en-us/about-nvidia/nv-accounts/) | [Privacy Policy](https://www.nvidia.com/en-us/about-nvidia/privacy-policy/)
- **Anthropic**: [Terms of Service](https://www.anthropic.com/legal/consumer-terms) | [Privacy Policy](https://docs.anthropic.com/en/docs/legal-center/privacy)
- **DeepSeek**: [Terms of Use](https://chat.deepseek.com/downloads/DeepSeek%20User%20Agreement.html) | [Privacy Policy](https://chat.deepseek.com/downloads/DeepSeek%20Privacy%20Policy.html)
- **Mistral**: [Terms of Service](https://mistral.ai/terms#terms-of-service) | [Privacy Policy](https://mistral.ai/terms#privacy-policy)
- **Google**: [Terms of Use](https://ai.google.dev/gemini-api/terms) | [Privacy Policy](https://policies.google.com/privacy)
- **JAN.AI**: [About](https://jan.ai/about) | [Privacy Policy](https://jan.ai/docs/privacy-policy)

**IMPORTANT**:

- This plugin requires an API key from OpenAI, NVIDIA, Anthropic or DeepSeek to function. Without an API key, the chatbot cannot process user queries.

- Obtain API keys here:

   - [OpenAI API Keys](https://platform.openai.com/account/api-keys)
   - [Auzre API Keys](https://azure.microsoft.com/en-us/pricing/purchase-options/azure-account?icid=ai-services)
   - [NVIDIA API Keys](https://developer.nvidia.com/nim)
   - [Anthropic API Keys](https://www.anthropic.com/)
   - [DeepSeek API Keys](https://platform.deepseek.com/sign_in)
   - [Mistral API Keys](https://console.mistral.ai/api-keys)
   - [Google API Keys](https://aistudio.google.com/api-keys)

- By entering your API key from the AI provider of your choice and activating the chatbot, you:

   - Consent to sending user queries and related data to the selected AI provider for processing and response generation.
   - Agree to abide by the provider's terms of service, pricing, and privacy policy.
   - Acknowledge that your data, including text submitted by users, may be transferred to and processed by the AI platform in accordance with its privacy policy.

**NOTE**: You are responsible for any fees associated with the use of the selected AI platform. Be sure to review each provider's pricing and usage policies before proceeding.

== Installation ==

1. **Upload the Plugin**
   - Go to *Plugins ‚Üí Add New ‚Üí Upload Plugin*.
   - Upload the `chatbot-chatgpt.zip` file and click **Install Now**.

2. **Activate**
   - Click **Activate Plugin** when installation completes.

3. **Connect Your AI Engine**
   - In *Settings ‚Üí Kognetiks Chatbot*, choose an AI platform and enter your API key (OpenAI, NVIDIA, Anthropic, DeepSeek, Mistral, or Azure).  
   - Or connect to a local AI server like JAN.AI - no API key needed.

4. **Add to Your Site**
   - Use the shortcode `[chatbot]` or `[chatbot style=floating]` to add AI chat anywhere.  
   - For embedded chat, use `[chatbot style=embedded]`.

5. **Teach Your Chatbot**
   - Use the **Knowledge Navigator** to scan your site and make responses context-aware.

== Frequently Asked Questions ==

**Does it require coding?**  
No. Setup is point-and-click simple.

**Can I use it without OpenAI?**  
Yes. You can use NVIDIA, Anthropic, Mistral, DeepSeek, Azure, or even run your own local AI server like JAN.AI.

**Can I customize the chatbot look?**  
Absolutely. You can personalize greetings, avatars, colors, and layout to match your brand.

**Is it GDPR compliant?**  
Yes. You control which AI engine processes data, and local AI options keep all data on your server.

== Disclaimer ==

WordPress, OpenAI, ChatGPT, NVIDIA, NIM, Anthropic, Claude, DeepSeek, Mistral, Azure and related trademarks are the property of their respective owners. Kognetiks is an independent entity and is not affiliated with, endorsed by, or sponsored by WordPress Foundation, OpenAI, NVIDIA, Anthropic, DeepSeek, or Mistral.

== Screenshots ==

1. Floating Chatbot - Howdy!
2. Floating Chatbot - Open example
3. Floating Chatbot - Open with interaction
4. Floating Chatbot - Shortcode example
5. Embedded Chatbot - Open example
6. Embedded Chatbot - Shortcode example
7. Embedded Chatbot - With enhanced response
8. Mobile Chatbot - Minimized
9. Mobile Chatbot - Open example
10. Mobile Chatbot - Open example
11. Mobile Chatbot - Tablet Minimized
12. Mobile Chatbot - Tablet Open example
13. Mobile Chatbot - Tablet Landscape example
14. Chatbot Setting - Main settings
15. Chatbot Setting - API/ChatGPT Settings
16. Chatbot Setting - GPT Assistant settings
17. Chatbot Setting - Avatar settings
18. Chatbot Setting - Appearance settings
19. Chatbot Setting - Custom button settings
20. Chatbot Setting - Knowledge Navigator settings
21. Chatbot Setting - Knowledge Navigator Analysis settings
22. Chatbot Setting - Reporting settings
23. Chatbot Setting - Diagnostic settings
24. Chatbot Setting - Support

== Changelog ==

= 2.4.2 - Released 2026-01-14 =

### Bug Fixes

* **Bug Fixes**: Premimum features bug fixes and improvements.

= 2.4.1 - Released 2026-01-06 =

### New Features
* **Automated Email Reports**: Added Conversation Digest and Proof of Value Reports email functionality with scheduling options
* **Enhanced Fallback Pattern Matching**: Improved detection of unanswered questions by including human messages with clarification/confusion patterns in top unanswered questions query
* **Unsaved Changes Modal**: Added modal to warn users about unsaved changes in settings
* **Insights Tab UI Enhancements**: Minor UI upgrades to the Insights tab for better user experience

### Improvements
* **Email Scheduling**: Enhanced scheduling system for Conversation Digest and Proof of Value emails with proper enable/disable functionality
* **Query Execution**: Added detailed comments and debug logging for SQL query execution in fallback pattern matching
* **Internationalization**: Added global translations for fallback pattern values to various language files
* **Terminology Update**: Renamed "analytics" to "insights" throughout the codebase for better clarity
* **Documentation**: Updated documentation including proof of value email examples and conversation digest email guides
* **Settings UI**: Added links to view reports, "remind me later", and dismiss buttons for better user workflow

### Bug Fixes
* Fixed options saving functionality in settings
* Fixed unscheduling of automated emails when disabled
* Corrected footer content for free and premium tiers in Proof of Value reports
* Removed redundant sections from Proof of Value reporting

= 2.4 - Released 2025-12-23 =

### New Features
* **Ukrainian Language Support**: Added comprehensive Ukrainian language translation support with 131+ translated strings for chatbot-user interaction messages.

### Bug Fixes
* Fixed "headers already sent" errors affecting assistant API calls and conversation handling.
* Resolved infinite retry loop issues with OpenAI and Azure assistants.
* Improved graceful fallback handling when translation files are missing.
* Enhanced error handling for "system is busy processing" scenarios.
* Fixed deprecated error messages and warnings for PHP 8.5.0 compatibility.
* Fixed duplicate request detection errors and clear conversation failures across all API providers.
* Resolved SQL injection vulnerabilities in transient cleanup functions.

### Improvements
* Adjusted Token Usage font styling in dashboard widget to eliminate overflow issues.
* Updated OpenAI documentation links and fixed formatting issues throughout documentation.
* Improved code organization and maintainability.

= 2.3 - Released 2025-04-24 =

### New Features
* **Google API**: Added support for Google's API for advanced conversational capabilities.
* **Insights Dashboard**: Comprehensive dashboard providing conversation statistics, sentiment analysis, engagement metrics, and token usage tracking.
* **Mistral API**: Added Settings and API for Mistral's chat completions and agents, including realtime websearch support.
* **Conversation Digest**: Added feature to send conversation digest to site admin via email.
* **Conversation Locking**: Implemented mechanism to prevent multiple simultaneous requests.
* **JAN.AI Local Server**: Updated support for JAN.AI local server v0.6.8 with API key support.

### Improvements
* Improved conversation history display for logged-in users.
* Enhanced input processing to handle impatient user interactions more gracefully.
* Fixed dashboard widget errors and improved LaTeX rendering functionality.
* Improved error logging for developers.

= 2.2 - Released 2024-11-22 =

### New Features
* **Azure OpenAI**: Added support for Azure OpenAI API.
* **DeepSeek API**: Added support for DeepSeek's API and Reasoner model (DeepSeek-R1).
* **Anthropic API**: Added support for Anthropic's API.
* **Multiple Language Translations**: Added translations for Czech, German, Spanish, French, Italian, Polish, Portuguese, and Russian.
* **Customizable Icons**: Added support for custom icons to replace default chatbot icons.
* **Sentential Context Model**: Added beta support for response generation using site content without external AI platforms.
* **Display Message Count**: Added setting to display message count in chatbot responses (e.g., 29/50).
* **Conversation Transcript**: Added feature to send conversation transcript to site admins.
* **Dashboard Widget**: Added widget to display chatbot statistics and token usage in WordPress admin.
* **Custom Post Types**: Added support for custom post types to Knowledge Navigator.

### Improvements
* Enhanced Assistant context with site content for improved responses.
* Improved Knowledge Navigator for more accurate and relevant responses.
* Added glyph rendering support (enable/disable).
* Improved response formatting for better readability.
* Added option to include post/page excerpts in chatbot responses.
* Enhanced security for assistant management and support page access.
* Improved rate limit exceeded error handling with automatic retry.
* Performance improvements with minimized database calls.

= 2.1 - Released 2024-08-22 =

### New Features
* **NVIDIA NIM API**: Added support for NVIDIA's NIM API.
* **Speech Recognition**: Added support for speech recognition to transcribe speech into text.
* **Remote Server Access**: Added feature to allow access to assistants from remote servers with whitelisting mechanism.
* **Message Limit Periods**: Added options to set message limits for visitors and logged-in users (Hourly, Daily, Weekly, Lifetime).
* **Math Handling**: Enhanced chatbot's ability to render complex mathematical expressions.

### Improvements
* Improved conversation continuity for visitors and logged-in users across sessions.
* Enhanced Knowledge Navigator algorithm to prioritize search results by relevance and recency.
* Improved table formatting in chatbot responses.
* Fixed script load order to prevent incorrect style application.
* Code cleanup and optimization with standardized variable names.
* Added JavaScript version control for cache busting.
* Improved conversation log CSV export handling.
* Fixed charset fallback to utf8 when utf8mb4 is not supported.
* Added option to suppress footer chatbots when embedded on page.

= 2.0 - Released 2024-05-09 =

### New Features
* **Enhanced Assistant Management**: New intuitive interface for managing all chatbot Assistants.
* **Assistant Configuration**: Added Max Prompt Tokens, Max Completion Tokens, Temperature, and Top P settings for Assistants.
* **Dynamic Shortcodes**: Added support for dynamic shortcodes with Assistant ID selection.
* **Transcript Download**: Added option for users to download conversation transcripts.
* **File Download Support**: Added support for downloading files generated on OpenAI platform.
* **Custom Error Handling**: Added option to display custom error messages to users.
* **Model Support**: Dynamic addition of latest OpenAI models including gpt-4o and gpt-4o-mini.
* **Error Log Management**: Added ability to manage, download, and delete chatbot error logs.
* **Conversation Continuation**: Added setting to enable conversation continuation after returning to previously visited pages.
* **Whisper API Prompting**: Improved speech-to-text prompting capabilities.
* **Interaction Limiting**: Expanded interaction limiting for visitors and logged-in users.

### Improvements
* Improved Knowledge Navigator settings tab organization.
* Enhanced security for file upload options.
* Improved shortcode handling and Assistant selection.
* Revised reporting settings layout and export functions.
* Fixed conversation logging and session handling.
* Improved image sizing and Knowledge Navigator analysis capabilities.

= 1.9 - Released 2024-02-21 =

### New Features
* **Plugin Rebranding**: Changed name to Kognetiks Chatbot.
* **Voice Options**: Added voice options (Allow, Echo, Fable, Onyx, Nova, Shimmer) and output formats (MP3, Opus, AAC, FLAC, WAV, PCM).
* **Image and Speech Generation**: Added support for DALL-E image generation and TTS text-to-speech models.
* **Multiple File Uploads**: Enabled multiple file uploads to Assistants.
* **Conversation History Shortcode**: Added [chat_history] shortcode for logged-in users.
* **Hot Prompts**: Added option to call chatbot with hot prompts via shortcode.
* **Thread Retention**: Added thread retention periods (default 36 hours, up to 720 hours) for Assistant conversation continuity.
* **Transcript Downloads**: Added option to download transcripts to text files.
* **Customizable Input Rows**: Added option to set number of rows for message input (1-10).
* **Assistant API Versioning**: Added option to select OpenAI Assistants v1 or v2 API.
* **Daily Message Limits**: Added daily chatbot message limit (defaults to 999).

### Improvements
* Improved chatbot responses with bullet points and titles for links.
* Enhanced Knowledge Navigator for large sites with TF-IDF scoring depth parameter.
* Expanded enhanced responses from 1 to selectable number (1-10).
* Improved conversation clearing and inter-page handling.
* Enhanced HTML markup handling in responses.
* Improved Knowledge Navigator to include/exclude posts, pages, products, and comments.
* Re-sequenced custom CSS loading for easier customization.
* Added audience choice options (All Audiences, Logged-in Only, Visitors Only).
* Comprehensive cleanup upon plugin uninstallation.

= 1.8 - Released 2024-01-24 =

### New Features
* **Custom Avatars**: Added support for custom avatars with settings page.
* **Appearance Settings**: Added Appearance Chatbot settings tabs to override CSS.
* **Token Reporting**: Added reporting and data export for prompt, completion, and total tokens.
* **Conversation Logging**: Added conversation logging to retain visitor and chatbot exchanges.
* **Alternate API Endpoints**: Added support for alternate API endpoints via URL setting.
* **Timeout Settings**: Added adjustable timeout settings to prevent long-running queries.

### Improvements
* Improved mobile experience with active adjustments for orientation changes.
* Enhanced conversation continuity for longer interactions.
* Added conversation reset functionality.
* Improved CSS organization and removed unnecessary styling.
* Fixed font color in appearance settings.
* Added user customizable CSS rules support.
* Fixed iOS and Chrome mobile issues.
* Improved file download handling for conversation and interaction data.

= 1.7 - Released 2023-12-07 =

### New Features
* **OpenAI Assistants Support**: Added support for Custom GPTs developed in OpenAI Playground.
* **Unlimited Assistants**: Added support for unlimited Assistants with shortcode parameters.
* **Embedded and Floating Chatbots**: Added support for embedded or floating chatbot styles via shortcode.
* **Learning Messages**: Added option for none, random, or custom learning messages.
* **File Uploads**: Added file uploads to Assistants for processing, search, and retrieval.
* **Multi-line Input**: Expanded input to accommodate multi-line for both embedded and floating styles.
* **Conversation Logging**: Added conversation logging to retain visitor and chatbot exchanges.

### Improvements
* Improved Custom GPT Assistants with update thread handling.
* Enhanced Knowledge Navigator with expanded HTML tag removal and special character handling.
* Added localization for stop words, learning messages, and error messages.
* Improved conversation continuity across pages.
* Enhanced multithreading processing for multiple simultaneous interactions.
* Reduced wait duration when using Assistants.
* Fixed GPT Assistant selection in shortcodes.
* Improved conversation reset and clearing functionality.

= 1.6 - Released 2023-07-31 =

### New Features
* **Knowledge Navigator**: Added innovative component to perform in-depth analysis of website for better, context-aware responses.
* **Cron Scheduling**: Added cron scheduling for Knowledge Navigator to refresh knowledge base (hourly, daily, weekly).
* **Knowledge Navigator Analysis**: Added analysis tool to download results as CSV for insights.
* **Custom Buttons**: Added option for two user-configurable buttons at bottom of chatbot.
* **API Key Validation**: Added option to check API key validity.
* **Echo Knowledge Base Support**: Added support for Echo Knowledge Base (EKB) post_type.
* **GPT-4 Turbo Support**: Expanded OpenAI models to include GPT-4 Turbo.
* **Seasonal Avatars**: Added expanded selection of seasonal avatars (Chinese New Year, Christmas, Fall, Halloween, Spring, Summer, Thanksgiving, Winter).

### Improvements
* Updated Knowledge Navigator acquisition of site content.
* Added reporting of chatbot interactions to Knowledge Navigator.
* Improved Knowledge Navigator handling of site content.
* Enhanced CSS adaptation for theme compatibility.
* Improved formatting of chatbot responses.
* Added custom chatbot message prompt option.
* Enhanced diagnostic and error logging for developers.
* Added output buffering.

= 1.5 - Released 2023-07-26 =

### New Features
* **Avatar Support**: Added support for avatars and avatar greetings.
* **Visitor Detection**: Added support to open chatbot for new visitor vs returning visitor.
* **AI Disclaimer**: Added additional phrases to add or remove default AI disclaimer.
* **Diagnostics Toggle**: Added option to turn on/off diagnostics for developer support.

### Improvements
* Fixed conversation appending multiple times.
* Fixed inconsistent variable names.

= 1.4 - Released 2023-04-16 =

### New Features
* **GPT-4 API Support**: Added support for GPT-4 API in settings.
* **Max Tokens**: Added support for max tokens (maximum number of tokens to generate).
* **Bot Message Modes**: Added support for narrow or wide bot message modes.

### Improvements
* Updated start bot open or closed option.
* Updated Setting Page with tabs for API/Model, Greetings, and Support.
* Updated directory assets.

= 1.3 - Released 2023-04-16 =

* Updated Setting Page adding tabs for API/Model, Greetings, and Support.
* Updated directory assets.

= 1.2 - Released 2023-04-09 =

* Removed initial styling on bot to ensure proper rendering timing.
* Added local storage to save conversation between bot sessions.

= 1.1 - Released 2023-04-08 =

* Added bot state persistence when navigating between pages (stays open or closed).
* Ensured Dashicons font is properly enqueued.
* Added options to change Bot Name, start with bot Open or Closed, and personalize Initial and Subsequent Greetings.

= 1.0 - Released 2023-03-28 =

* Initial release.

== Upgrade Notice ==

= 1.0.0 =
* Initial release.
